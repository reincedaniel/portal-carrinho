@@include("partials/main.html")

<head>

    @@include("partials/title-meta.html", {"title": "Vagas"})

    <!-- Choise Css -->
    <link rel="stylesheet" href="assets/libs/choices.js/public/assets/styles/choices.min.css">

    <!-- Nouislider Css -->
    <link rel="stylesheet" href="assets/libs/nouislider/nouislider.min.css">
    @@include("partials/head-css.html")

    <script>
                               
        document.addEventListener('DOMContentLoaded', function () {
            
    
            window.vueApp({
        data() {
            return {
                jobs: [],
                jobCategories: [],
                loading: true,
                jobsRaw:null,
                jobText:"", 
                jobLocation:"", 
                jobCategory:"",
                applicationNote: '',
                applicationSent: false,
                applicationLoading: false,
                applicationError: '',
                applicationJobId: null,
            }
        },
        computed: {
            filteredJobs() {
                if (!Array.isArray(this.jobs) || this.jobs.length === 0) {
                    return [];
                }
                return this.jobs.slice(0, 3);
            },
            filteredCategory() {
                if (!Array.isArray(this.jobCategories) || this.jobCategories.length === 0) {
                    return [];
                }
                return this.jobCategories.slice(0, 5);
            },
            isUserLogger() {
                return !!localStorage.getItem('user');
            },
            userLogger() {
                const user = localStorage.getItem('user')
                return user ? JSON.parse('user') : null;
            },
            userCandidate() {
                const candidate = localStorage.getItem('candidate')
                return candidate ? JSON.parse(candidate) : null;
            },
            userCandidateCheckStatus() {
                const candidateStatusCheck = localStorage.getItem('candidateStatusCheck')
                return candidateStatusCheck ? JSON.parse(candidateStatusCheck) : null;
            }                
        },
        methods: {
            openApplyModal(jobId) {
                    this.applicationJobId = jobId;
                    this.applicationNote = '';
                    this.applicationSent = false;
                    this.applicationError = '';
                    this.applicationLoading = false;
                    var modal = new bootstrap.Modal(document.getElementById('applyNow'));
                    modal.show();
                },
            async sendApplication() {
                
                if (!this.isUserLogger) return;
                this.applicationLoading = true;
                this.applicationError = '';
                this.applicationSent = false;
                try {
                    const candidate = this.userCandidate;
                    const jobId = this.applicationJobId;
                    if (!candidate || !candidate.id || !jobId) {
                        this.applicationError = 'Dados do candidato ou vaga não encontrados.';
                        this.applicationLoading = false;
                        return;
                    }
                    const res = await fetch('https://ypjkbbt6hgjcoi46mdpv5hkjzi0ttivo.lambda-url.us-east-2.on.aws/api/v1/job-application', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            candidateId: candidate.id,
                            jobId: jobId,
                            note: this.applicationNote
                        })
                    });
                    if (!res.ok) {
                        const err = await res.json().catch(() => ({}));
                        this.applicationError = (err?.message==="Job application are exist"?"Já se candidatou nesta vaga!":err?.message) || 'Erro ao enviar candidatura.';
                        this.applicationLoading = false;
                        return;
                    }
                    this.applicationSent = true;
                } catch (e) {
                    this.applicationError = 'Erro ao enviar candidatura.';
                }
                this.applicationLoading = false;
            },
            getIntFromString(str) {
                if (!str) return null;
                return parseInt(str, 10);
            },
            initFromUrl() {
                const params = new URLSearchParams(window.location.search);
                const categoryId = params.get('category-id');
                const jobText = params.get('job-text');
                if (categoryId || jobText) {
                    this.jobCategory = categoryId || "";
                    this.jobText = jobText || "";
                    this.getJob({
                        CategoryId: categoryId || "",
                        jobText: jobText || ""
                    });
                }else {
                    this.getJob({});
                }
            },
            clearFilter() {
                this.jobText = "";
                this.jobLocation = "";
                this.jobCategory = "";
                this.loading = "";
                this.getJob({
                    jobText: this.jobText,
                    jobLocation: this.jobLocation,
                    jobCategory: this.jobCategory
                });
                if (window.history && window.history.replaceState) {
                    const url = window.location.origin + window.location.pathname;
                    window.history.replaceState({}, document.title, url);
                }
            },
            filterJob() {
               
              /*   debugger */
                this.getJob({
                    jobText: this.jobText,
                    Location: this.jobLocation,
                    CategoryId: this.jobCategory
                });
            },
            formatDate(dateString) {
                if (!dateString) return '';
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                return new Date(dateString).toLocaleDateString('pt-BR', options);
            },
            getJobCategory() {
                fetch('https://ypjkbbt6hgjcoi46mdpv5hkjzi0ttivo.lambda-url.us-east-2.on.aws/api/v1/job/category?isActive=true')
                    .then(res => res.json())
                    .then(data => {
                        this.jobCategories = data?.data || [];
                    })
                    .catch(() => {
                        this.jobCategories = [];
                    });
            },
            getJob(params = {}) {
                this.loading = true;
                const query = new URLSearchParams();
                if (params.CategoryId) query.append('CategoryId', params.CategoryId);
                if (params.Location) query.append('Location', params.Location);
                if (params.jobText) query.append('jobText', params.jobText);

                const url = 'https://ypjkbbt6hgjcoi46mdpv5hkjzi0ttivo.lambda-url.us-east-2.on.aws/api/v1/job' + (query.toString() ? `?${query}` : '');

                fetch(url)
                    .then(res => res.json())
                    .then(data => {
                        this.jobsRaw = data;
                        this.jobs = data?.data?.data || [];
                    })
                    .catch(() => {
                        this.jobs = [];
                    })
                    .finally(() => {
                        this.loading = false;
                    });
            }
        },
        mounted() {
            
            this.getJobCategory()
            this.initFromUrl()
        }
    }).mount('#job-list-vue-app-2');
    });

    
    </script>

</head>

@@include("partials/body.html")

<!-- Begin page -->
<div>

    @@include("partials/topbar.html")


    <div class="main-content" id="job-list-vue-app-2">

        <div class="page-content">

            @@include("partials/page-title.html",{"pagetitle":"Página","title":"Vagas"})

            <!-- START JOB-LIST -->
            <section class="section">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-9">
                            <div class="me-lg-5">
                                <div class="job-list-header">
                                    <form action="#">
                                        <div class="row g-2">
                                            <div class="col-lg-3 col-md-6">
                                                <div class="filler-job-form">
                                                    <!-- <i class="uil uil-briefcase-alt"></i> -->
                                                    <label for="search" class="form-label text-secondary">Nome da Vaga</label>
                                                    
                                                    <input type="search" class="form-control text-primary" v-model="jobText"  placeholder="Nome da Vaga">
                                                </div>
                                            </div>
                                            <!--end col-->
                                            <div class="col-lg-3 col-md-6">
                                                <div class="filler-job-form">
                                                    <!-- <i class="uil uil-location-point"></i> -->
                                                    <label for="location" class="form-label text-secondary">Localização</label>
                                                    <select v-model="jobLocation" class="form-select text-primary" aria-label="Default select example">
                                                        <option value="">Todas</option>
                                                        <option value="Bengo">Bengo</option>
                                                        <option value="Benguela">Benguela</option>
                                                        <option value="Bié">Bié</option>
                                                        <option value="Cabinda">Cabinda</option>
                                                        <option value="Cuando Cubango">Cuando Cubango</option>
                                                        <option value="Cuanza Norte">Cuanza Norte</option>
                                                        <option value="Cuanza Sul">Cuanza Sul</option>
                                                        <option value="Cunene">Cunene</option>
                                                        <option value="Huambo">Huambo</option>
                                                        <option value="Huíla">Huíla</option>
                                                        <option value="Luanda">Luanda</option>
                                                        <option value="Lunda Norte">Lunda Norte</option>
                                                        <option value="Lunda Sul">Lunda Sul</option>
                                                        <option value="Malanje">Malanje</option>
                                                        <option value="Moxico">Moxico</option>
                                                        <option value="Namibe">Namibe</option>
                                                        <option value="Uíge">Uíge</option>
                                                        <option value="Zaire">Zaire</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <!--end col-->
                                            <div class="col-lg-3 col-md-6">
                                                <div class="filler-job-form">
                                                    <label for="category" class="form-label text-secondary">Categoria</label>

                                                    <select v-model="jobCategory" class="form-select text-primary" aria-label="Default select example">
                                                        <option value="">Todas</option>
                                                        <option :value="category.id" v-for="category in jobCategories" :key="category.id">{{category.category}}</option>
                                                       
                                                    </select>
                                                </div>
                                            </div>


                                            <!--end col-->
                                            <div class="col-lg-3 col-md-6">
                                                <label for="buttons" class="form-label text-white ">.</label>

                                                <button type="button" @click="filterJob()" class="btn btn-primary  w-100 "><i class="uil uil-filter"></i> Buscar</button>
                                                <button type="button" @click="clearFilter()" class="btn btn-outline-secondary w-100 mt-2">
                                                    <i class="uil uil-times"></i> Limpar
                                                </button>
                                            </div>
                                            <!--end col-->
                                        </div>
                                        <!--end row-->
                                    </form>
                                </div>
                                <!--end job-list-header-->
                                <div class="wedget-popular-title mt-4">
                                    <h6>Popular</h6>
                                    <ul class="list-inline">
                                        <li class="list-inline-item">
                                            <div class="popular-box d-flex align-items-center">
                                                <div class="number flex-shrink-0 me-2">
                                                    #
                                                </div>
                                                <a href="javascript:void(0)" @click="()=>{getJob({}); jobCategory=''}" class="stretched-link" :class="!jobCategory ?'':'primary-link'">
                                                    <h6 class="fs-14 mb-0">Todas vagas</h6>
                                                </a>
                                                
                                            </div>
                                        </li>
                                        <li v-for="cat in filteredCategory" :key="cat.id" class="list-inline-item">
                                            <div class="popular-box d-flex align-items-center">
                                                <div class="number flex-shrink-0 me-2">
                                                    #
                                                </div>
                                                
                                                <a href="javascript:void(0)" @click="()=>{getJob({CategoryId:cat.id}); jobCategory=cat.id}" class="stretched-link" :class="cat.id ===getIntFromString(jobCategory)?'':'primary-link'">
                                                    <h6 class="fs-14 mb-0">{{cat.category}}</h6>
                                                </a>
                                            </div>
                                        </li>
                                       
                                    </ul>
                                </div>
                                <!--end wedget-popular-title-->
                                <!-- Job-list -->
                                <div v-if="!loading">
                                    <div v-for="job in jobs" :key="job.id" class="job-box card mt-4" style="cursor: pointer;">
                                        <div class="bookmark-label text-center">
                                            <a href="javascript:void(0)" class="text-white align-middle"><i class="mdi mdi-star"></i></a>
                                        </div>
                                        <div class="p-4">
                                            <div class="row align-items-center">
                                                <div class="col-md-2">
                                                    <div class="text-center mb-4 mb-md-0">
                                                        <!--  company-details.html-->
                                                        <a :href="`job-details.html?job-id=${job.id}`"><img src="assets/images/featured-job/img-01.png" alt="" class="img-fluid rounded-3"></a>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="mb-2 mb-md-0">
                                                        <h5 class="fs-18 mb-1"><a :href="`job-details.html?job-id=${job.id}`" class="text-dark">{{job.title}}</a>
                                                        </h5>
                                                        <p class="text-muted fs-14 mb-0">Publicação: {{formatDate(job.createdAt)}}</p>
                                                    </div>
                                                </div>
                                             
                                                <div class="col-md-2">
                                                    

                                                    <div class="d-flex mb-2">
                                                        <div class="flex-shrink-0">
                                                            <i class="mdi mdi-map-marker text-primary me-1"></i>
                                                        </div>
                                                        <p class="text-muted mb-0">{{job.location}}</p>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div>
                                                        <span class="badge bg-dark-subtle text-black fs-13 mt-1">Tempo Integral</span>
                                                       
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="p-3 bg-light">
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div>
                                                        <p class="text-muted mb-0"><span class="text-dark">Experiência :</span> <span class="ml-5">{{job.experienceScore}}</span>/10</p>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-5">
                                                    
                                                </div>
                                                <div class="col-lg-2 col-md-3">
                                                    <div class="text-start text-md-end">
                                                        <a href="javascript:void(0)" @click="openApplyModal(job.id)" class="primary-link fw-bold text-primary" style="font-weight: bold; color: #00a5bb !important;">
                                                            Candidatar-se <i class="mdi mdi-chevron-double-right"></i>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div v-if="jobs.length === 0" class="text-center mt-5">
                                        <div class="alert alert-warning d-inline-block px-4 py-3" style="font-size: 1.1rem;">
                                            <i class="mdi mdi-alert-circle-outline me-2"></i>
                                            Nenhuma vaga encontrada.
                                        </div>
                                    </div>

                                </div>

                                <div class="" v-else>
                                    <!-- Skeleton Loader for Job Card -->
                                    <div class="job-box card mt-4" style="cursor: pointer; opacity: 0.7;">
                                        <div class="bookmark-label text-center">
                                            <span class="bg-ss-secondary rounded-circle d-inline-block" style="width: 24px; height: 24px;"></span>
                                        </div>
                                        <div class="p-4">
                                            <div class="row align-items-center">
                                                <div class="col-md-2">
                                                    <div class="text-center mb-4 mb-md-0">
                                                        <span class="bg-ss-secondary rounded-3 d-inline-block" style="width: 60px; height: 60px;"></span>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="mb-2 mb-md-0">
                                                        <div class="bg-ss-secondary rounded mb-2" style="width: 70%; height: 20px;"></div>
                                                        <div class="bg-ss-secondary rounded" style="width: 40%; height: 14px;"></div>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="d-flex mb-2 align-items-center">
                                                        <span class="bg-ss-secondary rounded-circle me-2" style="width: 16px; height: 16px;"></span>
                                                        <div class="bg-ss-secondary rounded" style="width: 40px; height: 14px;"></div>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="bg-ss-secondary rounded-pill d-inline-block" style="width: 80px; height: 18px;"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="p-3 bg-light">
                                            <div class="text-center ">
                                                <div class="spinner-border text-ss-secondary" role="status">
                                                    <span class="">...</span>
                                                </div>
                                            </div>
                                            <div class="text-center ">
                                                <div class="text-ss-secondary">
                                                    <span class="">A processar ...</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- End Job-list -->
                                <div class="row" v-if="jobs.length !== 0">
                                    <div class="col-lg-12 mt-4 pt-2">
                                        <nav aria-label="Page navigation example">
                                            <ul class="pagination job-pagination mb-0 justify-content-center">
                                                <li class="page-item disabled">
                                                    <a class="page-link" href="javascript:void(0)" tabindex="-1">
                                                        <i class="mdi mdi-chevron-double-left fs-15"></i>
                                                    </a>
                                                </li>
                                                <li class="page-item active"><a class="page-link" href="javascript:void(0)">1</a></li>
                                                <!-- <li class="page-item"><a class="page-link" href="javascript:void(0)">2</a></li>
                                                <li class="page-item"><a class="page-link" href="javascript:void(0)">3</a></li>
                                                <li class="page-item"><a class="page-link" href="javascript:void(0)">4</a></li> -->
                                                <li class="page-item">
                                                    <a class="page-link" href="javascript:void(0)">
                                                        <i class="mdi mdi-chevron-double-right fs-15"></i>
                                                    </a>
                                                </li>
                                            </ul>
                                        </nav>
                                    </div>
                                    <!--end col-->
                                </div><!-- end row -->
                            </div>
                        </div>
                        <!--end col-->

                        <!-- START SIDE-BAR -->
                        <div class="col-lg-3">
                            <div class="side-bar mt-5 mt-lg-0">
                                <div class="accordion" id="accordionExample">
                                    <!-- <div class="accordion-item">
                                        <h2 class="accordion-header" id="locationOne">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#location" aria-expanded="true" aria-controls="location">
                                                Localização
                                            </button>
                                        </h2>
                                        <div id="location" class="accordion-collapse collapse show" aria-labelledby="locationOne">
                                            <div class="accordion-body">
                                                <div class="side-title">
                                                    <div class="">
                                                        <form class="position-relative">
                                                            <input class="form-control" type="search" placeholder="Pesquisar...">
                                                            <button class="bg-transparent border-0 position-absolute top-50 end-0 translate-middle-y me-2" type="submit"><span class="mdi mdi-magnify text-muted"></span></button>
                                                        </form>
                                                    </div>
                                                    <div class="area-range">
                                                        <div class="form-label mb-3">Raio da Área: <span class="example-val mt-2" id="slider1-span">9.00</span> milhas</div>
                                                        <div id="slider1" class="noUi-target noUi-ltr noUi-horizontal noUi-txt-dir-ltr"> 
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div> --><!-- end accordion-item -->

                                    <div class="accordion-item ">
                                        <h2 class="accordion-header" id="experienceOne">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#experience" aria-expanded="true" aria-controls="experience">
                                                Experiência de trabalho
                                            </button>
                                        </h2>
                                        <div id="experience" class="accordion-collapse collapse show" aria-labelledby="experienceOne">
                                            <div class="accordion-body">
                                                <div class="side-title">
                                                    <div class="form-check mt-2">
                                                        <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked1" />
                                                        <label class="form-check-label ms-2 text-muted" for="flexCheckChecked1">Sem experiência</label>
                                                    </div>
                                                    <div class="form-check mt-2">
                                                        <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked2" checked />
                                                        <label class="form-check-label ms-2 text-muted" for="flexCheckChecked2">0-3 anos</label>
                                                    </div>
                                                    <div class="form-check mt-2">
                                                        <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked3" />
                                                        <label class="form-check-label ms-2 text-muted" for="flexCheckChecked3">3-6 anos</label>
                                                    </div>
                                                    <div class="form-check mt-2">
                                                        <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked4" />
                                                        <label class="form-check-label ms-2 text-muted" for="flexCheckChecked4">Mais de 6 anos</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div><!-- end accordion-item -->

                                    <div class="accordion-item mt-3">
                                        <h2 class="accordion-header" id="jobType">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#jobtype" aria-expanded="false" aria-controls="jobtype">
                                                Tipo de emprego
                                            </button>
                                        </h2>
                                        <div id="jobtype" class="accordion-collapse collapse show" aria-labelledby="jobType">
                                            <div class="accordion-body">
                                                <div class="side-title">
                                                    <div class="form-check mt-2">
                                                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault6" checked>
                                                        <label class="form-check-label ms-2 text-muted" for="flexRadioDefault6">
                                                            Freelancer
                                                        </label>
                                                    </div>
                                                    <div class="form-check mt-2">
                                                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2">
                                                        <label class="form-check-label ms-2 text-muted" for="flexRadioDefault2">
                                                            Tempo Integral
                                                        </label>
                                                    </div>
                                                    <div class="form-check mt-2">
                                                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault3">
                                                        <label class="form-check-label ms-2 text-muted" for="flexRadioDefault3">
                                                            Estágio
                                                        </label>
                                                    </div>
                                                    <div class="form-check mt-2">
                                                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault4">
                                                        <label class="form-check-label ms-2 text-muted" for="flexRadioDefault4">
                                                            Meio Período
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div><!-- end accordion-item -->

                                    <div class="accordion-item mt-3">
                                        <h2 class="accordion-header" id="datePosted">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#dateposted" aria-expanded="false" aria-controls="dateposted">
                                                Data de Publicação
                                            </button>
                                        </h2>
                                        <div id="dateposted" class="accordion-collapse collapse show" aria-labelledby="datePosted">
                                            <div class="accordion-body">
                                                <div class="side-title form-check-all">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="checkAll" value="" />
                                                        <label class="form-check-label ms-2 text-muted" for="checkAll">
                                                            Todas
                                                        </label>
                                                    </div>
                                                    <div class="form-check mt-2">
                                                        <input class="form-check-input" type="checkbox" name="datePosted" value="last" id="flexCheckChecked5" checked />
                                                        <label class="form-check-label ms-2 text-muted" for="flexCheckChecked5">
                                                            Última hora
                                                        </label>
                                                    </div>
                                                    <div class="form-check mt-2">
                                                        <input class="form-check-input" type="checkbox" name="datePosted" value="last" id="flexCheckChecked6" />
                                                        <label class="form-check-label ms-2 text-muted" for="flexCheckChecked6">
                                                            Últimas 24 horas
                                                        </label>
                                                    </div>
                                                    <div class="form-check mt-2">
                                                        <input class="form-check-input" type="checkbox" name="datePosted" value="last" id="flexCheckChecked7" />
                                                        <label class="form-check-label ms-2 text-muted" for="flexCheckChecked7">
                                                            Últimos 7 dias
                                                        </label>
                                                    </div>
                                                    <div class="form-check mt-2">
                                                        <input class="form-check-input" type="checkbox" name="datePosted" value="last" id="flexCheckChecked8" />
                                                        <label class="form-check-label ms-2 text-muted" for="flexCheckChecked8">
                                                            Últimos 14 dias
                                                        </label>
                                                    </div>
                                                    <div class="form-check mt-2">
                                                        <input class="form-check-input" type="checkbox" name="datePosted" value="last" id="flexCheckChecked9" />
                                                        <label class="form-check-label ms-2 text-muted" for="flexCheckChecked9">
                                                            Últimos 30 dias
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div><!-- end accordion-item -->

                                    <div class="accordion-item mt-3">
                                        <h2 class="accordion-header" id="tagCloud">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#tagcloud" aria-expanded="false" aria-controls="tagcloud">
                                                Nuvem de Tags
                                            </button>
                                        </h2>
                                        <div id="tagcloud" class="accordion-collapse collapse show" aria-labelledby="tagCloud">
                                            <div class="accordion-body">
                                                <div class="side-title">
                                                    <a href="javascript:void(0)" class="badge tag-cloud fs-13 mt-2">design</a>
                                                    <a href="javascript:void(0)" class="badge tag-cloud fs-13 mt-2">marketing</a>
                                                    <a href="javascript:void(0)" class="badge tag-cloud fs-13 mt-2">negócios</a>
                                                    <a href="javascript:void(0)" class="badge tag-cloud fs-13 mt-2">desenvolvedor</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div><!-- end accordion-item -->

                                </div>
                                <!--end accordion-->

                            </div>
                            <!--end side-bar-->
                        </div>
                        <!--end col-->
                        <!-- END SIDE-BAR -->
                    </div>
                    <!--end row-->
                </div>
                <!--end container-->
            </section>
            <!-- END JOB-LIST -->

                    <!-- START APPLY MODAL -->
                    <div class="modal fade" id="applyNow" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="applyNow" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-body p-5">
                                    <div class="text-center mb-4">
                                        <h5 class="modal-title" id="staticBackdropLabel">Candidatar-se a esta vaga</h5>
                                    </div>
                                    <div class="position-absolute end-0 top-0 p-3">
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
                                    </div>
                                    <div v-if="!isUserLogger" class="text-center">
                                        <p class="mb-4">Você precisa fazer login para se candidatar a esta vaga.</p>
                                        <a href="/sign-in.html" class="btn btn-primary w-100">Fazer Login</a>
                                    </div>
                                    <div v-else>

                               
                                        <!-- <div class="mb-3">
                                            <label for="messageControlTextarea" class="form-label">Observação</label>
                                            <textarea class="form-control" autofocus id="messageControlTextarea" rows="3" placeholder="Digite a sua Observação" v-model="applicationNote"></textarea>
                                        </div> -->
                                        <div class="alert alert-success text-center" v-if="applicationSent">
                                            Candidatura enviada com sucesso!
                                        </div>
                                        <div class="alert alert-danger text-center" v-if="applicationError">
                                            {{ applicationError }}
                                        </div>
                                        <button v-if="!applicationSent" type="button" class="btn btn-primary w-100" :disabled="applicationLoading"  @click="sendApplication()"  >
                                            <span v-if="applicationLoading" class="spinner-border spinner-border-sm me-2"></span>
                                            Enviar candidatura
                                        </button>
                                
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><!-- END APPLY MODAL -->

        </div>
        <!-- End Page-content -->

        @@include("partials/footer.html")

        @@include("partials/switcher.html")
    </div>
    <!-- end main content-->

</div>
<!-- END layout-wrapper -->

@@include("partials/vendor-scripts.html")

<!-- Choice Js -->
<script src="assets/libs/choices.js/public/assets/scripts/choices.min.js"></script>

<!-- Nouislider Js -->
<script src="assets/libs/nouislider/nouislider.min.js"></script>
<script src="assets/js/pages/area-filter-range.init.js"></script>

<!-- Checkbox Init Js -->
<script src="assets/js/pages/checkbox.init.js"></script>

<!-- Job Init Js -->
<script src="assets/js/pages/job-list.init.js"></script>

<!-- Switcher Js -->
<script src="assets/js/pages/switcher.init.js"></script>

<script src="assets/js/app.js"></script>


</body>

</html>